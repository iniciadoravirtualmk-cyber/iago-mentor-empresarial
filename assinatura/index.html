<!DOCTYPE html> <html lang="pt-BR"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>IAGO Mentor Empresarial - Assinatura Mensal</title> <link rel="stylesheet" href="../estilos.css" /> <style> body { margin: 0; padding: 0; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: radial-gradient(circle at top, #0b1120 0%, #020617 60%, #020617 100%); display: flex; align-items: center; justify-content: center; min-height: 100vh; } .card { background: #020617; border-radius: 16px; padding: 24px 28px; box-shadow: 0 18px 45px rgba(0, 0, 0, 0.7); max-width: 380px; width: 100%; text-align: center; border: 2px solid #fbbf24; } h1 { font-size: 1.5rem; margin-bottom: 8px; color: #fbbf24; } p { font-size: 0.9rem; color: #e5e7eb; margin-bottom: 16px; } input[type="email"] { width: 100%; padding: 10px 12px; border-radius: 999px; border: 1px solid #4b5563; font-size: 0.9rem; outline: none; margin-bottom: 12px; background-color: #020617; color: #e5e7eb; } input[type="email"]::placeholder { color: #6b7280; } input[type="email"]:focus { border-color: #facc15; box-shadow: 0 0 0 1px rgba(250, 204, 21, 0.4); } button { width: 100%; padding: 10px 12px; border-radius: 999px; border: none; font-weight: 600; font-size: 0.95rem; color: #111827; background: linear-gradient(90deg, #fbbf24, #f59e0b); cursor: pointer; transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s ease; } button:hover { transform: translateY(-1px); box-shadow: 0 10px 22px rgba(248, 181, 0, 0.45); opacity: 0.96; } button:disabled { opacity: 0.7; cursor: default; box-shadow: none; transform: none; } .msg { font-size: 0.85rem; margin-top: 10px; min-height: 18px; } .msg.error { color: #f87171; } .msg.success { color: #4ade80; } .loader { display: inline-block; width: 14px; height: 14px; border: 2px solid rgba(17, 24, 39, 0.4); border-top-color: #111827; border-radius: 999px; animation: spin 0.7s linear infinite; margin-right: 6px; vertical-align: -2px; } @keyframes spin { to { transform: rotate(360deg); } } small { display: block; margin-top: 10px; font-size: 0.7rem; color: #9ca3af; } </style> </head> <body> <div class="card"> <h1>Acesso IAGO Mentor Empresarial</h1> <p>Digite o e-mail cadastrado na sua assinatura mensal para liberar o acesso ao IAGO ‚Äì seu Mentor Empresarial com IA.</p> <form id="access-form"> <input type="email" id="email" name="email" placeholder="seuemail@exemplo.com" autocomplete="email" required /> <button type="submit" id="submit-btn"> Entrar </button> </form> <div id="message" class="msg"></div> <small>Acesso pessoal e intransfer√≠vel. N√£o compartilhe seu e-mail ou o link de acesso.</small> </div> <script>
  // üîó URL do Apps Script da assinatura do IAGO
  const SCRIPT_URL_ASSINATURA =
    "https://script.google.com/macros/s/AKfycbw2WpZo__DLSnGm5dJ8NKHwGu9CPYz_mfhWhP7EUSRjU5LkrLOzYZlx7nfpv8FWiXTh/exec";

  // üîó Link do IAGO (vers√£o assinantes)
  const IAGO_ASSINATURA_URL =
    "https://chatgpt.com/g/g-692f7cea2ad881919bc1787dcff00a65-iago-mentor-empresarial";

  const form = document.getElementById("access-form");
  const emailInput = document.getElementById("email");
  const msgEl = document.getElementById("message");
  const btn = document.getElementById("submit-btn");

  function setLoading(isLoading) {
    btn.disabled = isLoading;
    btn.innerHTML = isLoading
      ? '<span class="loader"></span>Verificando...'
      : "Entrar";
  }

  function showError(message) {
    msgEl.textContent =
      message ||
      "Este e-mail ainda n√£o est√° autorizado na assinatura. Verifique se digitou corretamente ou aguarde a confirma√ß√£o do pagamento.";
    msgEl.className = "msg error";
  }

  function showSuccess(message) {
    msgEl.textContent = message;
    msgEl.className = "msg success";
  }

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const email = emailInput.value.trim().toLowerCase();

    if (!email) {
      showError("Por favor, preencha o e-mail.");
      return;
    }

    setLoading(true);
    msgEl.textContent = "";
    msgEl.className = "msg";

    try {
      const res = await fetch(
        `${SCRIPT_URL_ASSINATURA}?email=${encodeURIComponent(email)}`,
        { method: "GET" }
      );

      if (!res.ok) {
        throw new Error("Erro de conex√£o. Tente novamente.");
      }

      const data = await res.json();

      // üîí VALIDA√á√ÉO FINAL E √öNICA
      if (data && data.authorized === true) {
        showSuccess("E-mail autorizado! Redirecionando para o IAGO...");
        setTimeout(() => {
          window.location.href = IAGO_ASSINATURA_URL;
        }, 800);
      } else {
        showError(data?.message);
      }
    } catch (err) {
      showError(err?.message || –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ);
    } finally {
      setLoading(false);
    }
  });
</script>
 </body> </html>
